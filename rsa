#!/bin/bash

# Check if a file is provided as an argument
if [ $# -ne 1 ]; then
    echo "Usage: $0 <file_with_numbers>"
    exit 1
fi

file=$1

# Check if the file exists
if [ ! -f "$file" ]; then
    echo "File not found!"
    exit 1
fi

# Function to factorize a number
factorize() {
    num=$1
    factors=""
    divisor=2
    firstFactor=1 # Check if the first factor has been added

    while [ $num -gt 1 ]; do
        if [ $((num % divisor)) -eq 0 ]; then
            if [ $firstFactor -eq 1 ]; then
                factors+="$divisor"
                firstFactor=0
            else
                factors+=" * $divisor"
            fi
            num=$((num / divisor))
        else
            divisor=$((divisor + 1))
        fi
    done

    if [ "$factors" == "" ]; then
        factors="$1"
    fi

    echo "$1 = $factors"
}

# Read each number from the file and factorize
while IFS= read -r number; do
    factorize "$number"
done < "$file"
